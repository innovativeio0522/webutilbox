<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code & Barcode Generator - Free Online Tool | ToolKit Pro</title>
    <meta name="description" content="Generate QR codes and barcodes online for free. Create QR codes for URLs, text, WiFi, and more. Generate barcodes in multiple formats. Works offline.">
    <meta name="keywords" content="qr code generator, barcode generator, qr maker, barcode maker, free qr code">
    <link rel="canonical" href="https://yourdomain.com/qr-barcode-generator">
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/tool-specific.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="../" class="logo">
                <span>ðŸ§°</span>
                <span>ToolKit Pro</span>
            </a>
        </div>
    </header>

    <div class="container">
        <h1>ðŸ“± QR Code & Barcode Generator</h1>
        <p class="subtitle">Generate QR codes and barcodes for URLs, text, products, and more.</p>

        <div class="workspace" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <!-- Left: Input Controls -->
            <div>
                <!-- Mode Tabs -->
                <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                    <button onclick="switchMode('qr')" id="tab-qr" class="active-tab" style="flex: 1; padding: 10px; background: var(--primary); border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; color: white; font-weight: 500;">QR Code</button>
                    <button onclick="switchMode('barcode')" id="tab-barcode" style="flex: 1; padding: 10px; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; font-size: 0.85rem; color: var(--white); font-weight: 500;">Barcode</button>
                </div>

                <!-- QR Code Section -->
                <div id="qr-section">
                    <!-- QR Type -->
                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">QR Code Type</label>
                        <select id="qrType" onchange="updateQRInputs()" style="width: 100%; padding: 8px; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); font-size: 0.85rem;">
                            <option value="text">Text</option>
                            <option value="url">URL/Website</option>
                            <option value="email">Email</option>
                            <option value="phone">Phone</option>
                            <option value="sms">SMS</option>
                            <option value="wifi">WiFi</option>
                        </select>
                    </div>

                    <!-- Dynamic QR Inputs -->
                    <div id="qr-inputs"></div>

                    <!-- QR Settings -->
                    <div style="background: var(--light); border-radius: 8px; padding: 12px; border: 1px solid var(--border); max-height: 280px; overflow-y: auto;">
                        <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 10px;">QR Code Settings</div>
                        
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <label style="font-size: 0.75rem;">Size</label>
                                <span style="font-size: 0.75rem; color: var(--primary);" id="qrSize-val">256px</span>
                            </div>
                            <input type="range" id="qrSize" min="128" max="512" value="256" step="64" oninput="generateQR(); document.getElementById('qrSize-val').textContent = this.value + 'px'" style="width: 100%;">
                        </div>

                        <div style="margin-bottom: 10px;">
                            <label style="font-size: 0.75rem; margin-bottom: 4px; display: block;">Error Correction</label>
                            <select id="qrErrorLevel" onchange="generateQR()" style="width: 100%; padding: 6px; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); font-size: 0.75rem;">
                                <option value="L">Low (7%)</option>
                                <option value="M" selected>Medium (15%)</option>
                                <option value="Q">Quartile (25%)</option>
                                <option value="H">High (30%)</option>
                            </select>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div>
                                <label style="font-size: 0.75rem; margin-bottom: 4px; display: block;">Foreground</label>
                                <input type="color" id="qrColorDark" value="#000000" oninput="generateQR()" style="width: 100%; height: 36px; border: 1px solid var(--border); border-radius: 6px; cursor: pointer; background: var(--dark);">
                            </div>
                            <div>
                                <label style="font-size: 0.75rem; margin-bottom: 4px; display: block;">Background</label>
                                <input type="color" id="qrColorLight" value="#ffffff" oninput="generateQR()" style="width: 100%; height: 36px; border: 1px solid var(--border); border-radius: 6px; cursor: pointer; background: var(--dark);">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Barcode Section -->
                <div id="barcode-section" style="display: none;">
                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Barcode Format</label>
                        <select id="barcodeFormat" onchange="generateBarcode()" style="width: 100%; padding: 8px; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); font-size: 0.85rem;">
                            <option value="CODE128">CODE128 (Default)</option>
                            <option value="EAN13">EAN13 (13 digits)</option>
                            <option value="UPC">UPC (12 digits)</option>
                            <option value="CODE39">CODE39</option>
                            <option value="ITF14">ITF14 (14 digits)</option>
                            <option value="MSI">MSI</option>
                            <option value="pharmacode">Pharmacode</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 12px;">
                        <label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Barcode Data</label>
                        <input type="text" id="barcodeText" placeholder="Enter barcode data..." oninput="generateBarcode()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white);">
                        <div style="font-size: 0.7rem; color: var(--gray); margin-top: 4px;">Alphanumeric characters supported</div>
                    </div>

                    <div style="background: var(--light); border-radius: 8px; padding: 12px; border: 1px solid var(--border);">
                        <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 10px;">Barcode Settings</div>
                        
                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <label style="font-size: 0.75rem;">Width</label>
                                <span style="font-size: 0.75rem; color: var(--primary);" id="barcodeWidth-val">2</span>
                            </div>
                            <input type="range" id="barcodeWidth" min="1" max="4" value="2" step="1" oninput="generateBarcode(); document.getElementById('barcodeWidth-val').textContent = this.value" style="width: 100%;">
                        </div>

                        <div style="margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <label style="font-size: 0.75rem;">Height</label>
                                <span style="font-size: 0.75rem; color: var(--primary);" id="barcodeHeight-val">100px</span>
                            </div>
                            <input type="range" id="barcodeHeight" min="50" max="200" value="100" step="10" oninput="generateBarcode(); document.getElementById('barcodeHeight-val').textContent = this.value + 'px'" style="width: 100%;">
                        </div>

                        <div>
                            <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                                <input type="checkbox" id="barcodeDisplayValue" checked onchange="generateBarcode()">
                                <span style="font-size: 0.75rem;">Display Text Below Barcode</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Preview & Download -->
            <div>
                <div style="background: var(--light); border-radius: 8px; padding: 12px; border: 1px solid var(--border);">
                    <div style="font-size: 0.85rem; color: var(--gray); margin-bottom: 10px;">Preview</div>
                    
                    <div id="qr-preview" style="display: flex; justify-content: center; align-items: center; min-height: 300px; background: white; border-radius: 6px; padding: 20px;">
                        <canvas id="qrCanvas"></canvas>
                    </div>

                    <div id="barcode-preview" style="display: none; justify-content: center; align-items: center; min-height: 300px; background: white; border-radius: 6px; padding: 20px;">
                        <svg id="barcodeSvg"></svg>
                    </div>

                    <div id="error-message" style="display: none; text-align: center; padding: 40px; color: var(--gray); font-size: 0.85rem;">
                        Enter data to generate code
                    </div>

                    <button onclick="downloadCode()" id="downloadBtn" class="btn btn-success" style="width: 100%; margin-top: 12px; padding: 10px; font-size: 0.95rem;" disabled>ðŸ’¾ Download</button>
                </div>
            </div>
        </div>

        <div class="info-section">
            <h2>QR Code & Barcode Generator</h2>
            <p>Generate QR codes for URLs, text, email, phone, SMS, and WiFi credentials. Create barcodes in multiple formats including CODE128, EAN13, UPC, and more.</p>
            <p><strong>QR Code Uses:</strong> Share website links, contact information, WiFi passwords, product information, and more. QR codes can be scanned by any smartphone camera.</p>
            <p><strong>Barcode Uses:</strong> Product labeling, inventory management, retail pricing, shipping labels, and asset tracking.</p>
            <p><strong>Privacy:</strong> All code generation happens in your browser. No data is sent to any server.</p>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toastMessage">Success!</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script>
        let currentMode = 'qr';

        function switchMode(mode) {
            currentMode = mode;
            
            document.getElementById('tab-qr').style.background = mode === 'qr' ? 'var(--primary)' : 'var(--dark)';
            document.getElementById('tab-qr').style.border = mode === 'qr' ? 'none' : '1px solid var(--border)';
            document.getElementById('tab-barcode').style.background = mode === 'barcode' ? 'var(--primary)' : 'var(--dark)';
            document.getElementById('tab-barcode').style.border = mode === 'barcode' ? 'none' : '1px solid var(--border)';
            
            document.getElementById('qr-section').style.display = mode === 'qr' ? 'block' : 'none';
            document.getElementById('barcode-section').style.display = mode === 'barcode' ? 'block' : 'none';
            document.getElementById('qr-preview').style.display = mode === 'qr' ? 'flex' : 'none';
            document.getElementById('barcode-preview').style.display = mode === 'barcode' ? 'flex' : 'none';
            
            if (mode === 'qr') {
                generateQR();
            } else {
                generateBarcode();
            }
        }

        function updateQRInputs() {
            const type = document.getElementById('qrType').value;
            const container = document.getElementById('qr-inputs');
            
            let html = '';
            switch(type) {
                case 'text':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Text Content</label><textarea id="qrText" placeholder="Enter text here..." oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); min-height: 80px; resize: vertical;"></textarea></div>';
                    break;
                case 'url':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Website URL</label><input type="url" id="qrText" placeholder="https://example.com" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white);"></div>';
                    break;
                case 'email':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Email Address</label><input type="email" id="qrEmail" placeholder="email@example.com" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); margin-bottom: 8px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Subject (Optional)</label><input type="text" id="qrSubject" placeholder="Email subject" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white);"></div>';
                    break;
                case 'phone':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Phone Number</label><input type="tel" id="qrText" placeholder="+1234567890" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white);"></div>';
                    break;
                case 'sms':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Phone Number</label><input type="tel" id="qrPhone" placeholder="+1234567890" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); margin-bottom: 8px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Message</label><textarea id="qrMessage" placeholder="SMS message" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); min-height: 60px; resize: vertical;"></textarea></div>';
                    break;
                case 'wifi':
                    html = '<div style="margin-bottom: 12px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Network Name (SSID)</label><input type="text" id="qrSSID" placeholder="WiFi Network Name" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); margin-bottom: 8px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Password</label><input type="text" id="qrPassword" placeholder="WiFi Password" oninput="generateQR()" style="width: 100%; padding: 8px; font-size: 0.85rem; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); margin-bottom: 8px;"><label style="font-size: 0.8rem; margin-bottom: 6px; display: block; color: var(--gray);">Security Type</label><select id="qrSecurity" onchange="generateQR()" style="width: 100%; padding: 8px; background: var(--dark); border: 1px solid var(--border); border-radius: 6px; color: var(--white); font-size: 0.85rem;"><option value="WPA">WPA/WPA2</option><option value="WEP">WEP</option><option value="">None</option></select></div>';
                    break;
            }
            
            container.innerHTML = html;
            generateQR();
        }

        function getQRData() {
            const type = document.getElementById('qrType').value;
            
            switch(type) {
                case 'text':
                case 'url':
                case 'phone':
                    const textEl = document.getElementById('qrText');
                    return textEl ? textEl.value : '';
                case 'email':
                    const email = document.getElementById('qrEmail')?.value || '';
                    const subject = document.getElementById('qrSubject')?.value || '';
                    return email ? `mailto:${email}${subject ? '?subject=' + encodeURIComponent(subject) : ''}` : '';
                case 'sms':
                    const phone = document.getElementById('qrPhone')?.value || '';
                    const message = document.getElementById('qrMessage')?.value || '';
                    return phone ? `sms:${phone}${message ? '?body=' + encodeURIComponent(message) : ''}` : '';
                case 'wifi':
                    const ssid = document.getElementById('qrSSID')?.value || '';
                    const password = document.getElementById('qrPassword')?.value || '';
                    const security = document.getElementById('qrSecurity')?.value || '';
                    return ssid ? `WIFI:T:${security};S:${ssid};P:${password};;` : '';
                default:
                    return '';
            }
        }

        function generateQR() {
            const data = getQRData();
            const canvas = document.getElementById('qrCanvas');
            const preview = document.getElementById('qr-preview');
            const errorMsg = document.getElementById('error-message');
            const downloadBtn = document.getElementById('downloadBtn');
            
            if (!data) {
                canvas.style.display = 'none';
                errorMsg.style.display = 'block';
                errorMsg.textContent = 'Enter data to generate code';
                downloadBtn.disabled = true;
                return;
            }
            
            // Check if QRCode library is loaded
            if (typeof QRCode === 'undefined') {
                canvas.style.display = 'none';
                errorMsg.style.display = 'block';
                errorMsg.textContent = 'Loading QR Code library...';
                downloadBtn.disabled = true;
                setTimeout(generateQR, 500);
                return;
            }
            
            errorMsg.style.display = 'none';
            downloadBtn.disabled = false;
            
            const size = parseInt(document.getElementById('qrSize').value);
            const colorDark = document.getElementById('qrColorDark').value;
            const colorLight = document.getElementById('qrColorLight').value;
            
            // Clear previous QR code
            preview.innerHTML = '';
            
            // Create new QR code
            const qrContainer = document.createElement('div');
            preview.appendChild(qrContainer);
            
            new QRCode(qrContainer, {
                text: data,
                width: size,
                height: size,
                colorDark: colorDark,
                colorLight: colorLight,
                correctLevel: QRCode.CorrectLevel.M
            });
        }

        function generateBarcode() {
            const text = document.getElementById('barcodeText').value;
            const format = document.getElementById('barcodeFormat').value;
            const svg = document.getElementById('barcodeSvg');
            const errorMsg = document.getElementById('error-message');
            const downloadBtn = document.getElementById('downloadBtn');
            
            if (!text) {
                svg.style.display = 'none';
                errorMsg.style.display = 'block';
                downloadBtn.disabled = true;
                return;
            }
            
            try {
                svg.style.display = 'block';
                errorMsg.style.display = 'none';
                downloadBtn.disabled = false;
                
                const width = parseInt(document.getElementById('barcodeWidth').value);
                const height = parseInt(document.getElementById('barcodeHeight').value);
                const displayValue = document.getElementById('barcodeDisplayValue').checked;
                
                JsBarcode(svg, text, {
                    format: format,
                    width: width,
                    height: height,
                    displayValue: displayValue,
                    fontSize: 14,
                    margin: 10
                });
            } catch (error) {
                console.error(error);
                showToast('Invalid barcode data for selected format', true);
                svg.style.display = 'none';
                errorMsg.style.display = 'block';
                errorMsg.textContent = 'Invalid data for ' + format;
                downloadBtn.disabled = true;
            }
        }

        function downloadCode() {
            if (currentMode === 'qr') {
                const canvas = document.getElementById('qrCanvas');
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'qrcode_' + Date.now() + '.png';
                    a.click();
                    URL.revokeObjectURL(url);
                    showToast('QR Code downloaded!');
                });
            } else {
                const svg = document.getElementById('barcodeSvg');
                const svgData = new XMLSerializer().serializeToString(svg);
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();
                
                img.onload = () => {
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img, 0, 0);
                    
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'barcode_' + Date.now() + '.png';
                        a.click();
                        URL.revokeObjectURL(url);
                        showToast('Barcode downloaded!');
                    });
                };
                
                img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
            }
        }

        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            const msg = document.getElementById('toastMessage');
            msg.textContent = message;
            toast.className = 'toast show' + (isError ? ' error' : '');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', function() {
            updateQRInputs();
        });
    </script>
</body>
</html>
