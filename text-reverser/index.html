<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Reverser & Character Frequency Analyzer | ToolKit Pro</title>
    <meta name="description" content="Reverse text, words, or letters. Analyze character frequency and text statistics. Free online text transformation tool.">
    <meta name="keywords" content="text reverser, reverse text, character frequency, text analyzer, flip text">
    <link rel="canonical" href="https://yourdomain.com/text-reverser">
    <link rel="stylesheet" href="../assets/css/common.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="../" class="logo">
                <span>ðŸ§°</span>
                <span>ToolKit Pro</span>
            </a>
        </div>
    </header>

    <div class="container">
        <h1>ðŸ”„ Text Reverser & Analyzer</h1>
        <p class="subtitle">Reverse text, words, or letters. Analyze character frequency and text patterns.</p>

        <!-- Mode Tabs -->
        <div style="display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;">
            <button id="reverseTab" class="mode-tab active" onclick="switchMode('reverse')">Reverse Text</button>
            <button id="frequencyTab" class="mode-tab" onclick="switchMode('frequency')">Character Frequency</button>
        </div>

        <!-- Reverse Mode -->
        <div id="reverseMode" class="workspace">
            <div class="input-group">
                <label>Input Text</label>
                <textarea id="reverseInput" placeholder="Enter text to reverse..."></textarea>
            </div>
            
            <div class="button-group">
                <button class="btn btn-primary" onclick="reverseText()">Reverse Text</button>
                <button class="btn btn-primary" onclick="reverseWords()">Reverse Words</button>
                <button class="btn btn-primary" onclick="reverseLetters()">Reverse Letters in Words</button>
                <button class="btn btn-secondary" onclick="clearReverse()">Clear</button>
            </div>
            
            <div class="output-container" id="reverseOutput">
                <div class="output-label">Result</div>
                <div class="output-content" id="reverseText"></div>
                <button class="btn btn-success" style="margin-top:10px;" onclick="copyReverse()">Copy Result</button>
            </div>
        </div>

        <!-- Frequency Mode -->
        <div id="frequencyMode" class="workspace" style="display: none;">
            <div class="input-group">
                <label>Input Text</label>
                <textarea id="frequencyInput" placeholder="Enter text to analyze..."></textarea>
            </div>
            
            <div class="button-group">
                <button class="btn btn-primary" onclick="analyzeFrequency()">Analyze</button>
                <button class="btn btn-secondary" onclick="clearFrequency()">Clear</button>
            </div>

            <!-- Statistics -->
            <div id="statsContainer" style="display: none; margin-bottom: 20px;">
                <div style="background: var(--light); border-radius: 12px; padding: 20px; border: 1px solid var(--border);">
                    <h3 style="margin-bottom: 15px; font-size: 1.1rem;">Text Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <div>
                            <div style="font-size: 0.85rem; color: var(--gray);">Total Characters</div>
                            <div id="totalChars" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">0</div>
                        </div>
                        <div>
                            <div style="font-size: 0.85rem; color: var(--gray);">Letters</div>
                            <div id="totalLetters" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">0</div>
                        </div>
                        <div>
                            <div style="font-size: 0.85rem; color: var(--gray);">Digits</div>
                            <div id="totalDigits" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">0</div>
                        </div>
                        <div>
                            <div style="font-size: 0.85rem; color: var(--gray);">Spaces</div>
                            <div id="totalSpaces" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">0</div>
                        </div>
                        <div>
                            <div style="font-size: 0.85rem; color: var(--gray);">Unique Characters</div>
                            <div id="uniqueChars" style="font-size: 1.5rem; font-weight: bold; color: var(--primary);">0</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="output-container" id="frequencyOutput">
                <div class="output-label">Character Frequency</div>
                <div id="frequencyTable" style="overflow-x: auto;"></div>
            </div>
        </div>

        <div class="info-section">
            <h2>Text Reverser & Character Frequency Analyzer</h2>
            <p>Transform and analyze text with multiple utilities. Reverse text in different ways or analyze character frequency and patterns.</p>
            <p><strong>Reverse Text:</strong> Reverse entire text, reverse word order, or reverse letters within each word.</p>
            <p><strong>Character Frequency:</strong> Analyze character distribution, count letters, digits, spaces, and see frequency of each character.</p>
            <p><strong>Use Cases:</strong> Text manipulation, palindrome checking, data analysis, pattern recognition, cryptography basics.</p>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toastMessage">Success!</span>
    </div>

    <style>
        .mode-tab {
            padding: 10px 20px;
            background: var(--dark);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--white);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        .mode-tab:hover {
            background: rgba(249, 115, 22, 0.1);
            border-color: var(--primary);
        }
        .mode-tab.active {
            background: var(--primary);
            border-color: var(--primary);
        }
    </style>

    <script>
        let currentMode = 'reverse';

        function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(mode + 'Tab').classList.add('active');
            
            document.getElementById('reverseMode').style.display = mode === 'reverse' ? 'block' : 'none';
            document.getElementById('frequencyMode').style.display = mode === 'frequency' ? 'block' : 'none';
        }

        // ===== REVERSE TEXT =====
        
        function reverseText() {
            const input = document.getElementById('reverseInput').value;
            if (!input) return showToast('Please enter text', true);
            
            const result = input.split('').reverse().join('');
            document.getElementById('reverseText').textContent = result;
            document.getElementById('reverseOutput').classList.add('show');
            showToast('Text reversed!');
        }

        function reverseWords() {
            const input = document.getElementById('reverseInput').value;
            if (!input) return showToast('Please enter text', true);
            
            const result = input.split(' ').reverse().join(' ');
            document.getElementById('reverseText').textContent = result;
            document.getElementById('reverseOutput').classList.add('show');
            showToast('Words reversed!');
        }

        function reverseLetters() {
            const input = document.getElementById('reverseInput').value;
            if (!input) return showToast('Please enter text', true);
            
            const words = input.split(' ');
            const reversed = words.map(word => word.split('').reverse().join(''));
            const result = reversed.join(' ');
            
            document.getElementById('reverseText').textContent = result;
            document.getElementById('reverseOutput').classList.add('show');
            showToast('Letters reversed!');
        }

        function copyReverse() {
            const text = document.getElementById('reverseText').textContent;
            if (!text) return showToast('Nothing to copy', true);
            navigator.clipboard.writeText(text).then(() => showToast('Copied!'));
        }

        function clearReverse() {
            document.getElementById('reverseInput').value = '';
            document.getElementById('reverseText').textContent = '';
            document.getElementById('reverseOutput').classList.remove('show');
            showToast('Cleared');
        }

        // ===== CHARACTER FREQUENCY =====
        
        function analyzeFrequency() {
            const input = document.getElementById('frequencyInput').value;
            if (!input) return showToast('Please enter text', true);
            
            // Calculate statistics
            const totalChars = input.length;
            const letters = input.match(/[a-zA-Z]/g) || [];
            const digits = input.match(/\d/g) || [];
            const spaces = input.match(/ /g) || [];
            
            // Count frequency
            const frequency = {};
            for (const char of input) {
                frequency[char] = (frequency[char] || 0) + 1;
            }
            
            // Sort by frequency
            const sorted = Object.entries(frequency).sort((a, b) => b[1] - a[1]);
            
            // Update statistics
            document.getElementById('totalChars').textContent = totalChars;
            document.getElementById('totalLetters').textContent = letters.length;
            document.getElementById('totalDigits').textContent = digits.length;
            document.getElementById('totalSpaces').textContent = spaces.length;
            document.getElementById('uniqueChars').textContent = sorted.length;
            document.getElementById('statsContainer').style.display = 'block';
            
            // Create frequency table
            let tableHTML = '<table style="width: 100%; border-collapse: collapse; font-size: 0.85rem;">';
            tableHTML += '<thead><tr>';
            tableHTML += '<th style="background: var(--dark); color: var(--white); padding: 10px; border: 1px solid var(--border); text-align: left;">Character</th>';
            tableHTML += '<th style="background: var(--dark); color: var(--white); padding: 10px; border: 1px solid var(--border); text-align: left;">Count</th>';
            tableHTML += '<th style="background: var(--dark); color: var(--white); padding: 10px; border: 1px solid var(--border); text-align: left;">Percentage</th>';
            tableHTML += '<th style="background: var(--dark); color: var(--white); padding: 10px; border: 1px solid var(--border); text-align: left;">Bar</th>';
            tableHTML += '</tr></thead><tbody>';
            
            sorted.forEach(([char, count], index) => {
                const percentage = ((count / totalChars) * 100).toFixed(2);
                const barWidth = Math.min(percentage * 3, 100);
                const displayChar = char === ' ' ? '(space)' : char === '\n' ? '(newline)' : char === '\t' ? '(tab)' : char;
                
                tableHTML += '<tr>';
                tableHTML += `<td style="background: ${index % 2 === 0 ? 'var(--dark)' : '#1a1a1a'}; color: var(--white); padding: 8px; border: 1px solid var(--border); font-family: monospace;">${escapeHTML(displayChar)}</td>`;
                tableHTML += `<td style="background: ${index % 2 === 0 ? 'var(--dark)' : '#1a1a1a'}; color: var(--white); padding: 8px; border: 1px solid var(--border);">${count}</td>`;
                tableHTML += `<td style="background: ${index % 2 === 0 ? 'var(--dark)' : '#1a1a1a'}; color: var(--white); padding: 8px; border: 1px solid var(--border);">${percentage}%</td>`;
                tableHTML += `<td style="background: ${index % 2 === 0 ? 'var(--dark)' : '#1a1a1a'}; padding: 8px; border: 1px solid var(--border);">`;
                tableHTML += `<div style="background: var(--primary); height: 20px; width: ${barWidth}%; border-radius: 4px;"></div>`;
                tableHTML += '</td></tr>';
            });
            
            tableHTML += '</tbody></table>';
            
            document.getElementById('frequencyTable').innerHTML = tableHTML;
            document.getElementById('frequencyOutput').classList.add('show');
            showToast('Analysis complete!');
        }

        function escapeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        function clearFrequency() {
            document.getElementById('frequencyInput').value = '';
            document.getElementById('frequencyTable').innerHTML = '';
            document.getElementById('statsContainer').style.display = 'none';
            document.getElementById('frequencyOutput').classList.remove('show');
            showToast('Cleared');
        }

        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            const msg = document.getElementById('toastMessage');
            msg.textContent = message;
            toast.className = 'toast show' + (isError ? ' error' : '');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
