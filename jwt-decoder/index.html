<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT Decoder - Decode JSON Web Tokens Online Free | ToolKit Pro</title>
    <meta name="description" content="Decode and inspect JWT tokens instantly. Free JWT decoder shows header, payload, and signature. Validate JWT structure and view claims online.">
    <meta name="keywords" content="jwt decoder, json web token decoder, decode jwt online, jwt inspector, jwt validator free">
    <link rel="canonical" href="https://yourdomain.com/jwt-decoder">
    <link rel="stylesheet" href="../assets/css/common.css">
    <link rel="stylesheet" href="../assets/css/tool-specific.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="../" class="logo">
                <span>üß∞</span>
                <span>ToolKit Pro</span>
            </a>
        </div>
    </header>

    <div class="container">
        <h1>üîê JWT Decoder</h1>
        <p class="subtitle">Decode and inspect JSON Web Tokens (JWT). View header, payload, and signature without verification.</p>

        <div class="workspace">
            <!-- JWT Input -->
            <div style="margin-bottom: 15px;">
                <label style="font-size: 0.9rem; margin-bottom: 8px;">JWT Token</label>
                <textarea id="jwtInput" placeholder="Paste your JWT token here (e.g., eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...)" oninput="decodeJWT()" style="min-height: 120px; font-size: 0.85rem; font-family: 'Courier New', monospace;"></textarea>
                <div style="display: flex; gap: 8px; margin-top: 10px;">
                    <button class="btn btn-secondary" onclick="clearAll()" style="padding: 8px 16px; font-size: 0.85rem;">Clear</button>
                    <button class="btn btn-secondary" onclick="loadSample()" style="padding: 8px 16px; font-size: 0.85rem;">Load Sample</button>
                </div>
            </div>

            <!-- Token Parts Visualization -->
            <div id="tokenParts" style="display: none; margin-bottom: 15px; padding: 15px; background: var(--light); border-radius: 8px; border: 1px solid var(--border); font-family: 'Courier New', monospace; font-size: 0.8rem; word-break: break-all; line-height: 1.8;">
                <div style="margin-bottom: 8px; color: var(--gray);">Token Structure:</div>
                <div>
                    <span id="headerPart" style="color: #fb923c;"></span><span style="color: var(--gray);">.</span><span id="payloadPart" style="color: #a78bfa;"></span><span style="color: var(--gray);">.</span><span id="signaturePart" style="color: #34d399;"></span>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <!-- Header -->
                <div class="output-container show" id="headerOutput" style="display: none;">
                    <div class="output-label" style="color: #fb923c;">üî∏ Header (Algorithm & Token Type)</div>
                    <pre id="headerContent" style="margin: 0; white-space: pre-wrap; font-size: 0.85rem; color: var(--white); font-family: 'Courier New', monospace;"></pre>
                </div>

                <!-- Payload -->
                <div class="output-container show" id="payloadOutput" style="display: none;">
                    <div class="output-label" style="color: #a78bfa;">üîπ Payload (Claims & Data)</div>
                    <pre id="payloadContent" style="margin: 0; white-space: pre-wrap; font-size: 0.85rem; color: var(--white); font-family: 'Courier New', monospace;"></pre>
                </div>
            </div>

            <!-- Signature -->
            <div class="output-container show" id="signatureOutput" style="margin-top: 15px; display: none;">
                <div class="output-label" style="color: #34d399;">üîê Signature (Verification)</div>
                <div id="signatureContent" style="font-family: 'Courier New', monospace; font-size: 0.85rem; word-break: break-all; color: var(--white);"></div>
            </div>

            <!-- Claims Info -->
            <div class="output-container show" id="claimsInfo" style="margin-top: 15px; display: none;">
                <div class="output-label">üìã Standard Claims</div>
                <div id="claimsList" style="display: grid; gap: 8px; font-size: 0.85rem;"></div>
            </div>

            <!-- Validation Status -->
            <div id="validationStatus" style="display: none; margin-top: 15px; padding: 12px; border-radius: 8px; border: 1px solid var(--border);"></div>
        </div>

        <div class="info-section">
            <h2>JWT Decoder - Decode JSON Web Tokens Online</h2>
            <p>This free JWT decoder decodes and inspects JSON Web Tokens without verification. View the header (algorithm and token type), payload (claims and data), and signature. Perfect for debugging authentication issues and understanding JWT structure.</p>
            <p><strong>What is JWT?</strong> JSON Web Token (JWT) is a compact, URL-safe token format used for securely transmitting information between parties. It consists of three parts: Header (algorithm), Payload (claims), and Signature (verification).</p>
            <p><strong>Standard Claims:</strong> iss (issuer), sub (subject), aud (audience), exp (expiration time), nbf (not before), iat (issued at), jti (JWT ID). These are registered claims defined in RFC 7519.</p>
            <p><strong>Security Note:</strong> This tool only decodes JWTs. It does NOT verify signatures or validate tokens. Never paste sensitive production tokens into online tools. Use for development and debugging only.</p>
            <p><strong>Use Cases:</strong> Debugging authentication, inspecting token claims, understanding JWT structure, API development, OAuth/OpenID debugging, token expiration checking.</p>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toastMessage">Success!</span>
    </div>

    <script>
        function decodeJWT() {
            const jwt = document.getElementById('jwtInput').value.trim();
            
            if (!jwt) {
                hideAll();
                return;
            }
            
            try {
                const parts = jwt.split('.');
                
                if (parts.length !== 3) {
                    showError('Invalid JWT format. JWT must have 3 parts separated by dots.');
                    return;
                }
                
                // Decode header and payload
                const header = JSON.parse(atob(parts[0]));
                const payload = JSON.parse(atob(parts[1]));
                const signature = parts[2];
                
                // Display token parts
                document.getElementById('headerPart').textContent = parts[0];
                document.getElementById('payloadPart').textContent = parts[1];
                document.getElementById('signaturePart').textContent = parts[2];
                document.getElementById('tokenParts').style.display = 'block';
                
                // Display header
                document.getElementById('headerContent').textContent = JSON.stringify(header, null, 2);
                document.getElementById('headerOutput').style.display = 'block';
                
                // Display payload
                document.getElementById('payloadContent').textContent = JSON.stringify(payload, null, 2);
                document.getElementById('payloadOutput').style.display = 'block';
                
                // Display signature
                document.getElementById('signatureContent').textContent = signature;
                document.getElementById('signatureOutput').style.display = 'block';
                
                // Display claims info
                displayClaims(payload);
                
                // Show success
                showSuccess('JWT decoded successfully');
                
            } catch (e) {
                showError('Invalid JWT token. Unable to decode.');
            }
        }
        
        function displayClaims(payload) {
            const claimsList = document.getElementById('claimsList');
            const standardClaims = {
                'iss': 'Issuer',
                'sub': 'Subject',
                'aud': 'Audience',
                'exp': 'Expiration Time',
                'nbf': 'Not Before',
                'iat': 'Issued At',
                'jti': 'JWT ID'
            };
            
            let html = '';
            let hasStandardClaims = false;
            
            for (const [key, label] of Object.entries(standardClaims)) {
                if (payload[key] !== undefined) {
                    hasStandardClaims = true;
                    let value = payload[key];
                    
                    // Format timestamps
                    if (['exp', 'nbf', 'iat'].includes(key) && typeof value === 'number') {
                        const date = new Date(value * 1000);
                        const now = new Date();
                        const isExpired = key === 'exp' && date < now;
                        const isNotYetValid = key === 'nbf' && date > now;
                        
                        value = `${date.toLocaleString()} ${isExpired ? '‚ö†Ô∏è EXPIRED' : isNotYetValid ? '‚è≥ Not yet valid' : '‚úì'}`;
                    }
                    
                    html += `<div style="padding: 8px; background: var(--light); border-radius: 6px; border-left: 3px solid var(--primary);">
                        <span style="color: var(--gray); font-weight: 600;">${label} (${key}):</span>
                        <span style="color: var(--white); margin-left: 8px;">${value}</span>
                    </div>`;
                }
            }
            
            if (hasStandardClaims) {
                claimsList.innerHTML = html;
                document.getElementById('claimsInfo').style.display = 'block';
            } else {
                document.getElementById('claimsInfo').style.display = 'none';
            }
        }
        
        function showSuccess(message) {
            const status = document.getElementById('validationStatus');
            status.innerHTML = `<div style="color: var(--secondary);">‚úì ${message}</div>`;
            status.style.background = 'rgba(52, 211, 153, 0.1)';
            status.style.borderColor = 'var(--secondary)';
            status.style.display = 'block';
        }
        
        function showError(message) {
            const status = document.getElementById('validationStatus');
            status.innerHTML = `<div style="color: var(--danger);">‚úó ${message}</div>`;
            status.style.background = 'rgba(248, 113, 113, 0.1)';
            status.style.borderColor = 'var(--danger)';
            status.style.display = 'block';
            hideAll();
        }
        
        function hideAll() {
            document.getElementById('tokenParts').style.display = 'none';
            document.getElementById('headerOutput').style.display = 'none';
            document.getElementById('payloadOutput').style.display = 'none';
            document.getElementById('signatureOutput').style.display = 'none';
            document.getElementById('claimsInfo').style.display = 'none';
            document.getElementById('validationStatus').style.display = 'none';
        }
        
        function clearAll() {
            document.getElementById('jwtInput').value = '';
            hideAll();
            showToast('Cleared');
        }
        
        function loadSample() {
            const sampleJWT = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE5MTYyMzkwMjJ9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c';
            document.getElementById('jwtInput').value = sampleJWT;
            decodeJWT();
            showToast('Sample JWT loaded');
        }
        
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            const msg = document.getElementById('toastMessage');
            msg.textContent = message;
            toast.className = 'toast show' + (isError ? ' error' : '');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
