<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cron Expression Generator - Visual Cron Builder | ToolKit Pro</title>
    <meta name="description" content="Generate cron expressions visually. Free cron schedule builder with human-readable descriptions. Perfect for scheduling tasks.">
    <meta name="keywords" content="cron generator, cron expression, cron builder, cron schedule, task scheduler">
    <link rel="canonical" href="https://yourdomain.com/cron-expression-generator">
    <link rel="stylesheet" href="../assets/css/common.css">
</head>
<body>
    <header>
        <div class="header-content">
            <a href="../" class="logo">
                <span>üß∞</span>
                <span>ToolKit Pro</span>
            </a>
        </div>
    </header>

    <div class="container">
        <h1>‚è∞ Cron Expression Generator</h1>
        <p class="subtitle">Generate cron expressions visually with human-readable descriptions.</p>

        <div class="workspace">
            <!-- Cron Expression Output -->
            <div style="margin-bottom: 20px;">
                <label style="font-size: 0.9rem; margin-bottom: 8px; display: block;">Cron Expression</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="cronExpression" readonly value="* * * * *" style="flex: 1; padding: 12px; font-size: 1.2rem; font-family: monospace; background: var(--dark);">
                    <button class="btn btn-success" onclick="copyCron()">Copy</button>
                </div>
                <div id="cronDescription" style="margin-top: 8px; font-size: 0.85rem; color: var(--gray);">Every minute</div>
            </div>

            <!-- Quick Presets -->
            <div style="margin-bottom: 20px;">
                <label style="font-size: 0.9rem; margin-bottom: 8px; display: block;">Quick Presets</label>
                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="setPreset('* * * * *')" style="padding: 8px 16px; font-size: 0.85rem;">Every minute</button>
                    <button class="btn btn-secondary" onclick="setPreset('0 * * * *')" style="padding: 8px 16px; font-size: 0.85rem;">Every hour</button>
                    <button class="btn btn-secondary" onclick="setPreset('0 0 * * *')" style="padding: 8px 16px; font-size: 0.85rem;">Daily at midnight</button>
                    <button class="btn btn-secondary" onclick="setPreset('0 9 * * *')" style="padding: 8px 16px; font-size: 0.85rem;">Daily at 9 AM</button>
                    <button class="btn btn-secondary" onclick="setPreset('0 0 * * 0')" style="padding: 8px 16px; font-size: 0.85rem;">Weekly (Sunday)</button>
                    <button class="btn btn-secondary" onclick="setPreset('0 0 1 * *')" style="padding: 8px 16px; font-size: 0.85rem;">Monthly (1st)</button>
                </div>
            </div>

            <!-- Cron Fields -->
            <div style="background: var(--light); border-radius: 12px; padding: 20px; border: 1px solid var(--border);">
                <h3 style="margin-bottom: 15px; font-size: 1rem;">Configure Schedule</h3>
                
                <!-- Minute -->
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 0.85rem; margin-bottom: 6px; display: block;">Minute (0-59)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="minuteType" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px;">
                            <option value="*">Every minute</option>
                            <option value="specific">Specific minute</option>
                            <option value="interval">Every N minutes</option>
                        </select>
                        <input type="number" id="minuteValue" min="0" max="59" value="0" onchange="updateCron()" style="padding: 8px; width: 100px; display: none;">
                    </div>
                </div>

                <!-- Hour -->
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 0.85rem; margin-bottom: 6px; display: block;">Hour (0-23)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="hourType" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px;">
                            <option value="*">Every hour</option>
                            <option value="specific">Specific hour</option>
                            <option value="interval">Every N hours</option>
                        </select>
                        <input type="number" id="hourValue" min="0" max="23" value="0" onchange="updateCron()" style="padding: 8px; width: 100px; display: none;">
                    </div>
                </div>

                <!-- Day of Month -->
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 0.85rem; margin-bottom: 6px; display: block;">Day of Month (1-31)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="dayType" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px;">
                            <option value="*">Every day</option>
                            <option value="specific">Specific day</option>
                        </select>
                        <input type="number" id="dayValue" min="1" max="31" value="1" onchange="updateCron()" style="padding: 8px; width: 100px; display: none;">
                    </div>
                </div>

                <!-- Month -->
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 0.85rem; margin-bottom: 6px; display: block;">Month (1-12)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="monthType" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px;">
                            <option value="*">Every month</option>
                            <option value="specific">Specific month</option>
                        </select>
                        <select id="monthValue" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px; display: none;">
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>
                </div>

                <!-- Day of Week -->
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 0.85rem; margin-bottom: 6px; display: block;">Day of Week (0-6, Sunday=0)</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <select id="weekdayType" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px;">
                            <option value="*">Every day</option>
                            <option value="specific">Specific day</option>
                        </select>
                        <select id="weekdayValue" onchange="updateCron()" style="padding: 8px; background: var(--dark); color: var(--white); border: 1px solid var(--border); border-radius: 6px; display: none;">
                            <option value="0">Sunday</option>
                            <option value="1">Monday</option>
                            <option value="2">Tuesday</option>
                            <option value="3">Wednesday</option>
                            <option value="4">Thursday</option>
                            <option value="5">Friday</option>
                            <option value="6">Saturday</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Reference -->
            <div style="margin-top: 20px; padding: 15px; background: rgba(249, 115, 22, 0.1); border-radius: 8px; font-size: 0.85rem;">
                <strong>Cron Format:</strong> minute hour day month weekday<br>
                <strong>Special Characters:</strong> * (any), / (interval), - (range), , (list)
            </div>
        </div>

        <div class="info-section">
            <h2>Cron Expression Generator</h2>
            <p>Generate cron expressions visually without memorizing the syntax. Perfect for scheduling tasks, jobs, and automated processes.</p>
            <p><strong>Cron Format:</strong> Five fields representing minute, hour, day of month, month, and day of week.</p>
            <p><strong>Use Cases:</strong> Task scheduling, automated backups, periodic jobs, CI/CD pipelines, server maintenance.</p>
        </div>
    </div>

    <div id="toast" class="toast">
        <span id="toastMessage">Success!</span>
    </div>

    <script>
        function updateCron() {
            // Show/hide value inputs based on type
            ['minute', 'hour', 'day', 'month', 'weekday'].forEach(field => {
                const type = document.getElementById(field + 'Type').value;
                const valueInput = document.getElementById(field + 'Value');
                if (valueInput) {
                    valueInput.style.display = type === 'specific' || type === 'interval' ? 'block' : 'none';
                }
            });

            // Build cron expression
            const minute = getCronField('minute');
            const hour = getCronField('hour');
            const day = getCronField('day');
            const month = getCronField('month');
            const weekday = getCronField('weekday');

            const cron = `${minute} ${hour} ${day} ${month} ${weekday}`;
            document.getElementById('cronExpression').value = cron;
            document.getElementById('cronDescription').textContent = describeCron(cron);
        }

        function getCronField(field) {
            const type = document.getElementById(field + 'Type').value;
            const value = document.getElementById(field + 'Value')?.value || '0';

            if (type === '*') return '*';
            if (type === 'specific') return value;
            if (type === 'interval') return `*/${value}`;
            return '*';
        }

        function describeCron(cron) {
            const [min, hour, day, month, weekday] = cron.split(' ');
            let desc = [];

            // Minute
            if (min === '*') desc.push('every minute');
            else if (min.includes('/')) desc.push(`every ${min.split('/')[1]} minutes`);
            else desc.push(`at minute ${min}`);

            // Hour
            if (hour !== '*') {
                if (hour.includes('/')) desc.push(`every ${hour.split('/')[1]} hours`);
                else desc.push(`at ${hour}:00`);
            }

            // Day
            if (day !== '*') desc.push(`on day ${day}`);

            // Month
            if (month !== '*') {
                const months = ['', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                desc.push(`in ${months[parseInt(month)]}`);
            }

            // Weekday
            if (weekday !== '*') {
                const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                desc.push(`on ${days[parseInt(weekday)]}`);
            }

            return desc.join(', ');
        }

        function setPreset(cron) {
            const [min, hour, day, month, weekday] = cron.split(' ');
            
            // Reset all to defaults
            document.getElementById('minuteType').value = min === '*' ? '*' : 'specific';
            document.getElementById('hourType').value = hour === '*' ? '*' : 'specific';
            document.getElementById('dayType').value = day === '*' ? '*' : 'specific';
            document.getElementById('monthType').value = month === '*' ? '*' : 'specific';
            document.getElementById('weekdayType').value = weekday === '*' ? '*' : 'specific';

            if (min !== '*') document.getElementById('minuteValue').value = min;
            if (hour !== '*') document.getElementById('hourValue').value = hour;
            if (day !== '*') document.getElementById('dayValue').value = day;
            if (month !== '*') document.getElementById('monthValue').value = month;
            if (weekday !== '*') document.getElementById('weekdayValue').value = weekday;

            updateCron();
        }

        function copyCron() {
            const cron = document.getElementById('cronExpression').value;
            navigator.clipboard.writeText(cron).then(() => showToast('Cron expression copied!'));
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            const msg = document.getElementById('toastMessage');
            msg.textContent = message;
            toast.className = 'toast show';
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        updateCron();
    </script>
</body>
</html>
